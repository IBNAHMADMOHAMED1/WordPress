!function(t){window.empty=function(t){return void 0===t||!t},window.count=function(t){return void 0===t?0:t&&t.length?t.length:0},window.stripslashes=function(t){return(t+"").replace(/\\(.?)/g,function(t,i){switch(i){case"\\":return"\\";case"0":return"\0";case"":return"";default:return i}})},window.forminator_array_value_exists=function(t,i){return!_.isUndefined(t[i])&&!_.isEmpty(t[i])},window.decodeHtmlEntity=function(t){return void 0===t?t:t.replace(/&#(\d+);/g,function(t,i){return String.fromCharCode(i)})},window.encodeHtmlEntity=function(t){if(void 0===t)return t;for(var i=[],e=t.length-1;e>=0;e--)i.unshift(["&#",t[e].charCodeAt(),";"].join(""));return i.join("")},window.singularPluralText=function(t,i,e){var o="";return o=t<2?i:e,t+" "+o},formintorjs.define(["text!admin/templates/popups.html"],function(i){var e={fields_ids:[],google_font_families:[],is_touch:function(){return Forminator.Data.is_touch},is_mobile_size:function(){return window.screen.width<=782},is_mobile:function(){return!(!Forminator.Utils.is_touch()&&!Forminator.Utils.is_mobile_size())},template:function(t){return _.templateSettings={evaluate:/\{\[([\s\S]+?)\]\}/g,interpolate:/\{\{([\s\S]+?)\}\}/g},_.template(t)},template_php:function(t){var i=_.templateSettings,e=!1;return _.templateSettings={interpolate:/<\?php echo (.+?) \?>/g,evaluate:/<\?php (.+?) \?>/g},e=_.template(t),_.templateSettings=i,function(t){return _.each(t,function(i,e){t["$"+e]=i}),e(t)}},ucfirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},get_slug:function(t){return t=t.replace(" ","-"),t=t.replace(/[^-a-zA-Z0-9]/,"")},sanitize_uri_string:function(t){var i=decodeURIComponent(t);return i=i.replace(/-/g," ")},get_url_param:function(t){for(var i=window.location.search.substring(1),e=i.split("&"),o=0;o<e.length;o++){var s=e[o].split("=");if(s[0]===t)return s[1]}return!1},is_email_wp:function(t){if(t.length<6)return!1;if(t.indexOf("@",1)<0)return!1;var i=t.split("@",2);if(!i[0].match(/^[a-zA-Z0-9!#$%&'*+\/=?^_`{|}~\.-]+$/))return!1;if(i[1].match(/\.{2,}/))return!1;var e=i[1],o=e.split(".");if(o.length<2)return!1;for(var s=o.length,n=0;n<s;n++)if(!o[n].match(/^[a-z0-9-]+$/i))return!1;return!0},forminator_select2_tags:function(i,e){i.find("select.sui-select.fui-multi-select").each(function(){var i=t(this),o=i.closest(".sui-modal-content"),s=o.attr("id"),n=t(o.length?"#"+s:"SUI_BODY_CLASS"),a="true"===i.attr("data-search")?0:-1,r=i.hasClass("sui-select-sm")?"sui-select-dropdown-sm":"";e=_.defaults(e,{dropdownParent:n,minimumResultsForSearch:a,dropdownCssClass:r}),i.attr("data-reorder")&&i.on("select2:select",function(e){var o=e.params.data.element,s=t(o),n=i;n.append(s),n.trigger("change.select2")}),i.SUIselect2(e)})},forminator_select2_custom:function(i,e){i.find("select.sui-select.custom-select2").each(function(){var i=t(this),o=i.closest(".sui-modal-content"),s=o.attr("id"),n=t(o.length?"#"+s:"body"),a="true"===i.attr("data-search")?0:-1,r=i.hasClass("sui-select-sm")?"sui-select-dropdown-sm":"";e=_.defaults(e,{dropdownParent:n,minimumResultsForSearch:a,dropdownCssClass:r}),i.attr("data-reorder")&&i.on("select2:select",function(i){var e=i.params.data.element,o=t(e),s=t(this);s.append(o),s.trigger("change.select2")}),i.SUIselect2(e)})},init_select2:function(){window.SUI},load_google_fonts:function(i){var e=this;t.ajax({url:Forminator.Data.ajaxUrl,type:"POST",data:{action:"forminator_load_google_fonts",_wpnonce:Forminator.Data.gFontNonce}}).done(function(t){!0===t.success&&(e.google_font_families=t.data),i.apply(t,[e.google_font_families])})},sui_delegate_events:function(){"object"==typeof window.SUI&&setTimeout(function(){SUI.suiAccordion(t(".sui-accordion")),SUI.suiTabs(t(".sui-tabs")),t('select.sui-select[data-theme="icon"]').each(function(){SUI.select.initIcon(t(this))}),t('select.sui-select[data-theme="color"]').each(function(){SUI.select.initColor(t(this))}),t('select.sui-select[data-theme="search"]').each(function(){SUI.select.initSearch(t(this))}),t("select.sui-select:not([data-theme]):not(.custom-select2):not(.fui-multi-select)").each(function(){SUI.select.init(t(this))}),t("select.sui-variables").each(function(){SUI.select.initVars(t(this))}),SUI.loadCircleScore(t(".sui-circle-score")),SUI.showHidePassword()},50)}},o={$popup:{},_deferred:{},initialize:function(){var e=Forminator.Utils.template(t(i).find("#popup-tpl").html());t("#forminator-popup").length?(t("#forminator-popup").remove(),this.initialize()):t("main.sui-wrap").append(e({})),this.$popup=t("#forminator-popup"),this.$popupId="forminator-popup",this.$focusAfterClosed="wpbody-content"},open:function(e,o,s,n){this.data=o,this.title="",this.action_text="",this.action_callback=!1,this.action_css_class="",this.has_custom_box=!1,this.has_footer=!0;var a="";switch(n){case"inline":a=Forminator.Utils.template(t(i).find("#popup-header-inline-tpl").html());break;case"center":a=Forminator.Utils.template(t(i).find("#popup-header-tpl").html())}_.isUndefined(this.data)||(_.isUndefined(this.data.title)||(this.title=this.data.title),_.isUndefined(this.data.has_footer)||(this.has_footer=this.data.has_footer),_.isUndefined(this.data.action_callback)||_.isUndefined(this.data.action_text)||(this.action_callback=this.data.action_callback,this.action_text=this.data.action_text,_.isUndefined(this.data.action_css_class)||(this.action_css_class=this.data.action_css_class)),_.isUndefined(this.data.has_custom_box)||(this.has_custom_box=this.data.has_custom_box)),this.initialize(),""!==a&&this.$popup.find(".sui-box").html(a({title:this.title}));var r=this,p=function(){return r.close(),!1};if(s&&this.$popup.closest(".sui-modal").addClass("sui-modal-"+s),this.has_custom_box)e.apply(this.$popup.find(".sui-box").get(),o);else{var c='<div class="sui-box-body"></div>';this.has_footer&&(c+='<div class="sui-box-footer"><button class="sui-button forminator-popup-cancel">'+Forminator.l10n.popup.cancel+"</button></div>"),this.$popup.find(".sui-box").append(c),e.apply(this.$popup.find(".sui-box-body").get(),o)}if(this.action_text&&this.action_callback){var l=this.action_callback;this.$popup.find(".sui-box-footer").append('<div class="sui-actions-right"><button class="forminator-popup-action sui-button '+this.action_css_class+'">'+this.action_text+"</button></div>"),this.$popup.find(".forminator-popup-action").on("click",function(){l&&l.apply(),r.close()})}else this.$popup.find(".forminator-popup-action").remove();return this.$popup.find(".forminator-popup-close").on("click",p),this.$popup.find(".forminator-popup-cancel").on("click",p),this.$popup.on("click",".forminator-popup-cancel",p),SUI.openModal(this.$popupId,this.$focusAfterClosed,void 0,!0,!0),Forminator.Utils.sui_delegate_events(),this._deferred=new t.Deferred,this._deferred.promise()},close:function(t,i){var e=this;SUI.closeModal(),setTimeout(function(){e.$popup.closest(".sui-modal").removeClass("sui-modal-sm").removeClass("sui-modal-md").removeClass("sui-modal-lg").removeClass("sui-modal-xl"),i&&i.apply()},300),this._deferred.resolve(this.$popup,t)}},s={$notification:{},_deferred:{},initialize:function(){t(".sui-floating-notices").length?(t(".sui-floating-notices").remove(),this.initialize()):t("main.sui-wrap").prepend('<div class="sui-floating-notices"><div role="alert" id="forminator-floating-notification" class="sui-notice" aria-live="assertive"></div></div>'),this.$notification=t("#forminator-floating-notification")},open:function(i,e,o){var s=this;return _.isUndefined(o)||5e3,this.uniq="forminator-floating-notification",this.text="<p>"+e+"</p>",this.type="",this.time=o||5e3,_.isUndefined(i)||""===i||(this.type=i),_.isUndefined(o)||(this.time=o),this.opts={type:this.type,autoclose:{show:!0,timeout:this.time}},this.initialize(),SUI.openNotice(this.uniq,this.text,this.opts),setTimeout(function(){s.close()},3e3),this._deferred=new t.Deferred,this._deferred.promise()},close:function(t){this._deferred.resolve(this.$popup,t)}};return{Utils:e,Popup:o,Integrations_Popup:{$popup:{},_deferred:{},initialize:function(){var e=Forminator.Utils.template(t(i).find("#popup-integration-tpl").html());t("#forminator-integration-popup").length?(t("#forminator-integration-popup").remove(),this.initialize()):t("main.sui-wrap").append(e({provider_image:"",provider_image2:"",provider_title:""})),this.$popup=t("#forminator-integration-popup"),this.$popupId="forminator-integration-popup",this.$focusAfterClosed="forminator-integrations-page"},open:function(e,o,s){this.data=o,this.title="",this.image="",this.image_x2="",this.action_text="",this.action_callback=!1,this.action_css_class="",this.has_custom_box=!1,this.has_footer=!0,_.isUndefined(this.data)||(_.isUndefined(this.data.title)||(this.title=this.data.title),_.isUndefined(this.data.image)||(this.image=this.data.image),_.isUndefined(this.data.image_x2)||(this.image_x2=this.data.image_x2)),this.initialize();var n=Forminator.Utils.template(t(i).find("#popup-integration-content-tpl").html());this.$popup.find(".sui-box").html(n({image:this.image,image_x2:this.image_x2,title:this.title}));var a=this,r=function(){return a.close(),!1};if(s&&this.$popup.addClass(s),e.apply(this.$popup.get(),o),this.action_text&&this.action_callback){var p=this.action_callback;this.$popup.find(".sui-box-footer").append('<button class="forminator-popup-action sui-button '+this.action_css_class+'">'+this.action_text+"</button>"),this.$popup.find(".forminator-popup-action").on("click",function(){p&&p.apply(),a.close()})}else this.$popup.find(".forminator-popup-action").remove();return this.$popup.find(".sui-dialog-close").on("click",r),this.$popup.on("click",".forminator-popup-cancel",r),SUI.openModal(this.$popupId,this.$focusAfterClosed),Forminator.Utils.sui_delegate_events(),this._deferred=new t.Deferred,this._deferred.promise()},close:function(t,i){Forminator.Events.trigger("forminator:addons:reload"),SUI.closeModal(),setTimeout(function(){i&&i.apply()},300),this._deferred.resolve(this.$popup,t)}},Stripe_Popup:{$popup:{},_deferred:{},initialize:function(){var e=Forminator.Utils.template(t(i).find("#popup-stripe-tpl").html());t("#forminator-stripe-popup").length?(t("#forminator-stripe-popup").remove(),this.initialize()):t("main.sui-wrap").append(e({provider_image:"",provider_image2:"",provider_title:""})),this.$popup=t("#forminator-stripe-popup"),this.$popupId="forminator-stripe-popup",this.$focusAfterClosed="wpbody-content"},open:function(e,o){this.data=o,this.title="",this.image="",this.image_x2="",this.action_text="",this.action_callback=!1,this.action_css_class="",this.has_custom_box=!1,this.has_footer=!0,_.isUndefined(this.data)||(_.isUndefined(this.data.title)||(this.title=this.data.title),_.isUndefined(this.data.image)||(this.image=this.data.image),_.isUndefined(this.data.image_x2)||(this.image_x2=this.data.image_x2)),this.initialize();var s=Forminator.Utils.template(t(i).find("#popup-stripe-content-tpl").html());this.$popup.find(".sui-box").html(s({image:this.image,image_x2:this.image_x2,title:this.title})),this.$popup.find(".sui-box-footer").css({"padding-top":"0"});var n=this,a=function(){return n.close(),!1};if(e.apply(this.$popup.get(),o),this.action_text&&this.action_callback){var r=this.action_callback;this.$popup.find(".sui-box-footer").append('<div class="sui-actions-right"><button class="forminator-popup-action sui-button '+this.action_css_class+'">'+this.action_text+"</button></div>"),this.$popup.find(".forminator-popup-action").on("click",function(){r&&r.apply(),n.close()})}else this.$popup.find(".forminator-popup-action").remove();return this.$popup.find(".forminator-popup-close").on("click",a),this.$popup.on("click",".forminator-popup-cancel",a),SUI.openModal(this.$popupId,this.$focusAfterClosed,void 0,!0,!0),Forminator.Utils.sui_delegate_events(),this._deferred=new t.Deferred,this._deferred.promise()},close:function(t,i){SUI.closeModal();var e=this;setTimeout(function(){e.$popup.closest(".sui-modal").removeClass("sui-modal-sm").removeClass("sui-modal-md").removeClass("sui-modal-lg").removeClass("sui-modal-xl"),i&&i.apply()},300),this._deferred.resolve(this.$popup,t)}},Notification:s}})}(jQuery);